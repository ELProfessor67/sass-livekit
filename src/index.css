@import "./styles/design-tokens.css";
@import "./styles/base.css";
@import "./styles/components/metrics.css";
@import "./styles/components/charts.css";
@import "./styles/components/layout.css";
@import "./styles/components/glass.css";
@import "./styles/components/glass-borders.css";
@import "./styles/components/liquid-glass.css";
@import "./styles/components/premium-glass.css";
@import "./styles/components/ui-themes.css";
@import "./styles/components/content-zones.css";
@import "./styles/animations.css";
@import "./styles/navigation.css";

/* Theme-aware transcript styles */
.glass-ui .transcript-message-user {
  @apply backdrop-blur-lg bg-white/[0.08] border border-white/[0.12] rounded-lg;
}

.glass-ui .transcript-message-agent {
  @apply backdrop-blur-lg bg-white/[0.12] border border-white/[0.15] rounded-lg;
}

.minimal-ui .transcript-message-user {
  @apply bg-card border border-border rounded-3xl;
}

.minimal-ui .transcript-message-agent {
  @apply bg-muted border border-border rounded-3xl;
}

.dark .transcript-message-user,
.dark .transcript-message-agent {
  @apply text-foreground/90 font-light;
}


/* Theme-aware calendar styles */
.glass-ui .rdp {
  @apply backdrop-blur-2xl bg-white/[0.03] border border-white/[0.12] rounded-xl text-foreground;
  box-shadow: 0 32px 80px rgba(0, 0, 0, 0.4), 0 8px 32px rgba(255, 255, 255, 0.1) inset, 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  transform: translateZ(0);
  will-change: transform;
}

.minimal-ui .rdp {
  @apply bg-card border border-border rounded-3xl text-foreground shadow-xl;
}

.rdp-day_selected {
  @apply bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-medium rounded-lg;
  box-shadow: 0 4px 16px rgba(255, 74, 113, 0.4) !important;
}

.glass-ui .rdp-day_range_middle {
  @apply bg-primary/10 text-foreground backdrop-blur-sm bg-white/[0.05] rounded-lg !important;
}

.minimal-ui .rdp-day_range_middle {
  @apply bg-primary/10 text-foreground rounded-2xl !important;
}

.rdp-day_range_start,
.rdp-day_range_end {
  @apply bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-medium rounded-lg;
  box-shadow: 0 4px 16px rgba(255, 74, 113, 0.4) !important;
}

/* Page header styling - black text for headers outside cards */
.dark.glass-ui h1:not([class*="card"] h1):not(.card h1):not([class*="Card"] h1) {
  color: black !important;
}

.dark.glass-ui h2:not([class*="card"] h2):not(.card h2):not([class*="Card"] h2) {
  color: black !important;
}

.dark.glass-ui h3:not([class*="card"] h3):not(.card h3):not([class*="Card"] h3) {
  color: black !important;
}

.dark.glass-ui p.text-muted-foreground:not([class*="card"] p):not(.card p):not([class*="Card"] p) {
  color: black !important;
  opacity: 0.7;
}

/* Theme-aware popover content - fix pointed edges */
.glass-ui [data-radix-popper-content-wrapper] {
  border-radius: var(--radius-2xl);
  overflow: hidden;
}

.glass-ui .popover-content-calendar {
  @apply backdrop-blur-xl bg-white/[0.12] border border-white/[0.15] rounded-xl;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25);
}

.minimal-ui .popover-content-calendar {
  @apply bg-card border border-border rounded-3xl shadow-2xl;
}

/* Glass badge styling */
.glass-badge {
  @apply backdrop-blur-sm bg-white/[0.1] border border-white/[0.15] !important;
}

/* Enhanced contrast on glass backgrounds */
.glass-ui .message-bubble-incoming {
  @apply backdrop-blur-md bg-zinc-950/90 border border-white/[0.08] text-white;
  box-shadow: var(--shadow-glass-sm);
}

.glass-ui .message-bubble-outgoing {
  @apply backdrop-blur-md bg-primary/20 border-primary/30 text-white;
  box-shadow: var(--shadow-glass-sm);
}

.glass-ui .message-bubble-imessage {
  @apply backdrop-blur-lg border;
}

.glass-ui .message-bubble-imessage.outgoing {
  @apply bg-primary/25 border-primary/40 text-white;
  box-shadow: var(--shadow-glass-md);
}

.glass-ui .message-bubble-imessage.incoming {
  @apply bg-white/[0.12] border-white/[0.20] text-foreground;
}

.glass-ui .message-bubble-imessage-text {
  @apply font-medium;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.glass-ui .message-bubble-imessage.outgoing .message-bubble-imessage-text {
  @apply text-white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
}

.glass-ui .message-bubble-imessage.incoming .message-bubble-imessage-text {
  @apply text-foreground;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.1);
}

/* Enhanced delivery status visibility for iMessage */
.glass-ui[class*="message-bubble"] .delivery-status,
.glass-ui .message-bubble-imessage .delivery-status {
  @apply bg-black/[0.15] backdrop-blur-sm rounded px-1.5 py-0.5;
}

/* Delivery Status Colors */
:root {
  --status-sending: 156 39% 54%;
  /* Gray */
  --status-delivered: 142 76% 36%;
  /* Green */
  --status-read: 212 100% 50%;
  /* Blue */
  --status-failed: 0 84% 60%;
  /* Red */
}

/* Delivery Status Animations */
@keyframes pulse-sending {

  0%,
  100% {
    opacity: 0.4;
  }

  50% {
    opacity: 1;
  }
}

@keyframes shake-failed {

  0%,
  100% {
    transform: translateX(0);
  }

  25% {
    transform: translateX(-2px);
  }

  75% {
    transform: translateX(2px);
  }
}

.status-sending {
  animation: pulse-sending 1.5s ease-in-out infinite;
}

.status-failed {
  animation: shake-failed 0.5s ease-in-out;
}